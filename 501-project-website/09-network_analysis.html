<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>

    <meta charset="utf-8">
    <meta name="generator" content="quarto-1.2.247">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

    <meta name="author" content="Haoxuan(Will) Weng">

    <title>Network analysis</title>
    <link rel="stylesheet" href="./project.css">
    <style>
        code {
            white-space: pre-wrap;
        }
        
        span.smallcaps {
            font-variant: small-caps;
        }
        
        div.columns {
            display: flex;
            gap: min(4vw, 1.5em);
        }
        
        div.column {
            flex: auto;
            overflow-x: auto;
        }
        
        div.hanging-indent {
            margin-left: 1.5em;
            text-indent: -1.5em;
        }
        
        ul.task-list {
            list-style: none;
        }
        
        ul.task-list li input[type="checkbox"] {
            width: 0.8em;
            margin: 0 0.8em 0.2em -1.6em;
            vertical-align: middle;
        }
        
        pre>code.sourceCode {
            white-space: pre;
            position: relative;
        }
        
        pre>code.sourceCode>span {
            display: inline-block;
            line-height: 1.25;
        }
        
        pre>code.sourceCode>span:empty {
            height: 1.2em;
        }
        
        .sourceCode {
            overflow: visible;
        }
        
        code.sourceCode>span {
            color: inherit;
            text-decoration: inherit;
        }
        
        div.sourceCode {
            margin: 1em 0;
        }
        
        pre.sourceCode {
            margin: 0;
        }
        
        @media screen {
            div.sourceCode {
                overflow: auto;
            }
        }
        
        @media print {
            pre>code.sourceCode {
                white-space: pre-wrap;
            }
            pre>code.sourceCode>span {
                text-indent: -5em;
                padding-left: 5em;
            }
        }
        
        pre.numberSource code {
            counter-reset: source-line 0;
        }
        
        pre.numberSource code>span {
            position: relative;
            left: -4em;
            counter-increment: source-line;
        }
        
        pre.numberSource code>span>a:first-child::before {
            content: counter(source-line);
            position: relative;
            left: -1em;
            text-align: right;
            vertical-align: baseline;
            border: none;
            display: inline-block;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            padding: 0 4px;
            width: 4em;
            color: #aaaaaa;
        }
        
        pre.numberSource {
            margin-left: 3em;
            border-left: 1px solid #aaaaaa;
            padding-left: 4px;
        }
        
        div.sourceCode {}
        
        @media screen {
            pre>code.sourceCode>span>a:first-child::before {
                text-decoration: underline;
            }
        }
        
        code span.al {
            color: #ff0000;
            font-weight: bold;
        }
        /* Alert */
        
        code span.an {
            color: #60a0b0;
            font-weight: bold;
            font-style: italic;
        }
        /* Annotation */
        
        code span.at {
            color: #7d9029;
        }
        /* Attribute */
        
        code span.bn {
            color: #40a070;
        }
        /* BaseN */
        
        code span.bu {
            color: #008000;
        }
        /* BuiltIn */
        
        code span.cf {
            color: #007020;
            font-weight: bold;
        }
        /* ControlFlow */
        
        code span.ch {
            color: #4070a0;
        }
        /* Char */
        
        code span.cn {
            color: #880000;
        }
        /* Constant */
        
        code span.co {
            color: #60a0b0;
            font-style: italic;
        }
        /* Comment */
        
        code span.cv {
            color: #60a0b0;
            font-weight: bold;
            font-style: italic;
        }
        /* CommentVar */
        
        code span.do {
            color: #ba2121;
            font-style: italic;
        }
        /* Documentation */
        
        code span.dt {
            color: #902000;
        }
        /* DataType */
        
        code span.dv {
            color: #40a070;
        }
        /* DecVal */
        
        code span.er {
            color: #ff0000;
            font-weight: bold;
        }
        /* Error */
        
        code span.ex {}
        /* Extension */
        
        code span.fl {
            color: #40a070;
        }
        /* Float */
        
        code span.fu {
            color: #06287e;
        }
        /* Function */
        
        code span.im {
            color: #008000;
            font-weight: bold;
        }
        /* Import */
        
        code span.in {
            color: #60a0b0;
            font-weight: bold;
            font-style: italic;
        }
        /* Information */
        
        code span.kw {
            color: #007020;
            font-weight: bold;
        }
        /* Keyword */
        
        code span.op {
            color: #666666;
        }
        /* Operator */
        
        code span.ot {
            color: #007020;
        }
        /* Other */
        
        code span.pp {
            color: #bc7a00;
        }
        /* Preprocessor */
        
        code span.sc {
            color: #4070a0;
        }
        /* SpecialChar */
        
        code span.ss {
            color: #bb6688;
        }
        /* SpecialString */
        
        code span.st {
            color: #4070a0;
        }
        /* String */
        
        code span.va {
            color: #19177c;
        }
        /* Variable */
        
        code span.vs {
            color: #4070a0;
        }
        /* VerbatimString */
        
        code span.wa {
            color: #60a0b0;
            font-weight: bold;
            font-style: italic;
        }
        /* Warning */
    </style>


    <script src="arm_files/libs/clipboard/clipboard.min.js"></script>
    <script src="arm_files/libs/quarto-html/quarto.js"></script>
    <script src="arm_files/libs/quarto-html/popper.min.js"></script>
    <script src="arm_files/libs/quarto-html/tippy.umd.min.js"></script>
    <script src="arm_files/libs/quarto-html/anchor.min.js"></script>
    <link href="arm_files/libs/quarto-html/tippy.css" rel="stylesheet">
    <link href="arm_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
    <script src="arm_files/libs/bootstrap/bootstrap.min.js"></script>
    <link href="arm_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
    <link href="arm_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

    <header>
        <div class="su-brand-bar su-brand-bar--default">
            <div class="header-container">
                <div class="header-leftside">
                    <a class="su-brand-bar__logo" href="https://www.georgetown.edu/">Georgetown University</a>
                </div>

                <div class="header-rightside">
                    <a class="su-brand-bar__logo" href="http://haoxuan-weng.georgetown.domains/501-project-website/index.html">
        Home
    </a>
                    <a class="su-brand-bar__logo code" href="https://github.com/anly501/anly-501-project-Willinus-xuan">
        Code
    </a>
                    <a class="su-brand-bar__logo code" href="https://github.com/anly501/anly-501-project-Willinus-xuan">
        Data
    </a>
                </div>
            </div>
        </div>
    </header>

    <section class="banner">
        <div class="content-container">
            <div class='research-name'>
                <h1>
                    Automatic Cyberbulleying detect
                </h1>
            </div>
            <div class="subject">
                ANLY 501 Data Science and Analytics
            </div>
        </div>
    </section>

    <section class="wrapper">
        <div style="position:sticky;top: 300px;float: left;max-width: 25%;">
            <nav class="bx--tableofcontents__desktop" data-autoid="dds--tableofcontents__desktop">
                <ul>
                    <li class="bx--tableofcontents__desktop__item"><a href="http://haoxuan-weng.georgetown.domains/501-project-website/01-introduction.html">About this project</a></li>
                    <li class="bx--tableofcontents__desktop__item bx--tableofcontents__desktop__item--active"><a href="http://haoxuan-weng.georgetown.domains/501-project-website/02-data_collection.html" aria-current="location">Data collection</a></li>
                    <li class="bx--tableofcontents__desktop__item"><a href="http://haoxuan-weng.georgetown.domains/501-project-website/03-data_cleaning.html">Data Cleaning</a></li>
                    <li class="bx--tableofcontents__desktop__item"><a href="http://haoxuan-weng.georgetown.domains/501-project-website/04-data_exploring.html">Exploring Data</a></li>
                    <li class="bx--tableofcontents__desktop__item"><a href="http://haoxuan-weng.georgetown.domains/501-project-website/05-Naive_Bayes.html">Naïve Bayes</a></li>
                    <li class="bx--tableofcontents__desktop__item"><a href="http://haoxuan-weng.georgetown.domains/501-project-website/06-Decision_tree.html">Decision Trees</a></li>
                    <li class="bx--tableofcontents__desktop__item"><a href="http://haoxuan-weng.georgetown.domains/501-project-website/07-svm.html">SVM</a></li>
                    <li class="bx--tableofcontents__desktop__item"><a href="http://haoxuan-weng.georgetown.domains/501-project-website/08-clustering_analysis.html">Clustering</a></li>
                    <li class="bx--tableofcontents__desktop__item"><a href="http://haoxuan-weng.georgetown.domains/501-project-website/09-network_analysis.html">ARM and Networking</a></li>
                    <li class="bx--tableofcontents__desktop__item"><a href="http://haoxuan-weng.georgetown.domains/501-project-website/10-conclusion.html">Conclusions</a></li>
                </ul>
            </nav>
        </div>
    </section>

    <div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
        <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
            <nav id="TOC" role="doc-toc" class="toc-active">
                <h2 id="toc-title">Table of contents</h2>

                <ul>
                    <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="toc-section-number">1</span>  Introduction</a></li>
                    <li><a href="#build-the-function" id="toc-build-the-function" class="nav-link" data-scroll-target="#build-the-function"><span class="toc-section-number">2</span>  Build the Function</a></li>
                    <li><a href="#model-building" id="toc-model-building" class="nav-link" data-scroll-target="#model-building"><span class="toc-section-number">3</span>  Model Building</a></li>
                    <li><a href="#data-visualization" id="toc-data-visualization" class="nav-link" data-scroll-target="#data-visualization"><span class="toc-section-number">4</span>  Data Visualization</a></li>
                    <li><a href="#results" id="toc-results" class="nav-link" data-scroll-target="#results"><span class="toc-section-number">5</span>  Results</a></li>
                    <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion"><span class="toc-section-number">6</span>  Conclusion</a></li>
                    <li><a href="#reference" id="toc-reference" class="nav-link" data-scroll-target="#reference"><span class="toc-section-number">7</span>  Reference</a></li>
                </ul>
            </nav>
        </div>
        <main content " id="quarto-document-content ">



            <section id="introduction " class="level1 " data-number="1 ">
                <h1 data-number="1 "><span class="header-section-number ">1</span> Introduction</h1>
                <p>In the last tab, we are familiar with clustering algorithms such as K-Means, HAC, or DBSCAN to unearth patterns behind the numerical data. However, clustering is not the only unsupervised way to find similarities between data points. You
                    can also use association rule learning techniques to determine if certain data points (actions) are more likely to occur together.</p>
                <p>A simple example of association rule is supermarket analysis. If someone is buying a diaper, he is more likely to purchase a beer. Such combined purchase behaviors does not appear at once. Therefore, Association rule can be leveraged to
                    analyze financial transactions, purchase behaviors online and local supermarkets, and even for the pure text data.</p>
                <p>In this part, I use Apriori algorithm to analyze the hate speech tweets that involve sexism or racism, trying to dig specific patterns of hate speech. In such senses, such patterns can be used to predict the hate speech.</p>
                <div class="cell " data-execution_count="2 ">
                    <details>
                        <summary>Code</summary>
                        <div class="sourceCode cell-code " id="cb1 "><pre class="sourceCode python code-with-copy "><code class="sourceCode python "><span id="cb1-1 "><a href="#cb1-1 " aria-hidden="true " tabindex="-1 "></a><span class="im
            ">import</span> pandas <span class="im ">as</span> pd</span>
<span id="cb1-2 "><a href="#cb1-2 " aria-hidden="true " tabindex="-1 "></a><span class="im ">from</span> nltk.tokenize <span class="im ">import</span> word_tokenize</span>
<span id="cb1-3 "><a href="#cb1-3 " aria-hidden="true " tabindex="-1 "></a><span class="im ">from</span> apyori <span class="im ">import</span> apriori</span>
<span id="cb1-4 "><a href="#cb1-4 " aria-hidden="true " tabindex="-1 "></a><span class="im ">import</span> networkx <span class="im ">as</span> nx </span>
<span id="cb1-5 "><a href="#cb1-5 " aria-hidden="true " tabindex="-1 "></a><span class="im ">from</span> nltk.corpus <span class="im ">import</span> stopwords</span>
<span id="cb1-6 "><a href="#cb1-6 " aria-hidden="true " tabindex="-1 "></a><span class="im ">import</span> matplotlib.pyplot <span class="im ">as</span> plt</span></code><button title="Copy to Clipboard " class="code-copy-button "><i class="bi "></i></button></pre></div>
                    </details>
                </div>
                <div class="cell " data-execution_count="24 ">
                    <details>
                        <summary>Code</summary>
                        <div class="sourceCode cell-code " id="cb2 "><pre class="sourceCode python code-with-copy "><code class="sourceCode python "><span id="cb2-1 "><a href="#cb2-1 " aria-hidden="true " tabindex="-1 "></a><span class="co "># read the data</span></span>
<span id="cb2-2 "><a href="#cb2-2 " aria-hidden="true " tabindex="-1 "></a>df<span class="op ">=</span>pd.read_csv(<span class="st ">"../../data/hate_speech.csv "</span>,index_col<span class="op ">=</span><span class="dv ">0</span>)</span>
<span id="cb2-3 "><a href="#cb2-3 " aria-hidden="true " tabindex="-1 "></a>df<span class="op ">=</span>df[df[<span class="st ">"label "</span>]<span class="op ">==</span><span class="dv ">1</span>]</span>
<span id="cb2-4 "><a href="#cb2-4 " aria-hidden="true " tabindex="-1 "></a>df.reset_index(drop<span class="op ">=</span><span class="va ">True</span>,inplace<span class="op ">=</span><span class="va ">True</span>)</span>
<span id="cb2-5 "><a href="#cb2-5 " aria-hidden="true " tabindex="-1 "></a>df.text <span class="op ">=</span> df.text.fillna(<span class="st ">''</span>)</span>
<span id="cb2-6 "><a href="#cb2-6 " aria-hidden="true " tabindex="-1 "></a>df[<span class="op ">~</span>df.text.isnull()]</span>
<span id="cb2-7 "><a href="#cb2-7 " aria-hidden="true " tabindex="-1 "></a>df.text <span class="op ">=</span> df.text.<span class="bu ">str</span>.replace(<span class="st ">'rt'</span>,<span class="st ">''</span>)</span>
<span id="cb2-8 "><a href="#cb2-8 " aria-hidden="true " tabindex="-1 "></a>df.text <span class="op ">=</span> df.text.<span class="bu ">str</span>.replace(<span class="st ">'mkr'</span>,<span class="st ">''</span>)</span>
<span id="cb2-9 "><a href="#cb2-9 " aria-hidden="true " tabindex="-1 "></a>df.text <span class="op ">=</span> df.text.<span class="bu ">str</span>.replace(<span class="st ">'kat'</span>,<span class="st ">''</span>)</span>
<span id="cb2-10 "><a href="#cb2-10 " aria-hidden="true " tabindex="-1 "></a>df.text <span class="op ">=</span> df.text.<span class="bu ">str</span>.replace(<span class="st ">'im'</span>,<span class="st ">''</span>)</span>
<span id="cb2-11 "><a href="#cb2-11 " aria-hidden="true " tabindex="-1 "></a>df.text <span class="op ">=</span> df.text.<span class="bu ">str</span>.split()</span>
<span id="cb2-12 "><a href="#cb2-12 " aria-hidden="true " tabindex="-1 "></a>df.head()</span></code><button title="Copy to Clipboard " class="code-copy-button "><i class="bi "></i></button></pre></div>
                    </details>
                </div>
            </section>
            <section id="build-the-function " class="level1 " data-number="2 ">
                <h1 data-number="2 "><span class="header-section-number ">2</span> Build the Function</h1>
                <div class="cell " data-execution_count="6 ">
                    <details>
                        <summary>Code</summary>
                        <div class="sourceCode cell-code " id="cb3 "><pre class="sourceCode python code-with-copy "><code class="sourceCode python "><span id="cb3-1 "><a href="#cb3-1 " aria-hidden="true " tabindex="-1 "></a><span class="kw ">def</span> reformat_results(results):</span>
<span id="cb3-2 "><a href="#cb3-2 " aria-hidden="true " tabindex="-1 "></a></span>
<span id="cb3-3 "><a href="#cb3-3 " aria-hidden="true " tabindex="-1 "></a>    keep <span class="op ">=</span>[]</span>
<span id="cb3-4 "><a href="#cb3-4 " aria-hidden="true " tabindex="-1 "></a>    <span class="cf ">for</span> i <span class="kw ">in</span> <span class="bu ">range</span>(<span class="dv ">0</span>, <span class="bu ">len</span>(results)):</span>
<span id="cb3-5 "><a href="#cb3-5 " aria-hidden="true " tabindex="-1 "></a>        <span class="cf ">for</span> j <span class="kw ">in</span> <span class="bu ">range</span>(<span class="dv ">0</span>, <span class="bu ">len</span>(<span class="bu ">list</span>(results[i]))):</span>
<span id="cb3-6 "><a href="#cb3-6 " aria-hidden="true " tabindex="-1 "></a>            <span class="cf ">if</span> (j<span class="op ">&gt;</span><span class="dv ">1</span>):</span>
<span id="cb3-7 "><a href="#cb3-7 " aria-hidden="true " tabindex="-1 "></a>                <span class="cf ">for</span> k <span class="kw ">in</span> <span class="bu ">range</span>(<span class="dv ">0</span>, <span class="bu
            ">len</span>(<span class="bu ">list</span>(results[i][j]))):</span>
<span id="cb3-8 "><a href="#cb3-8 " aria-hidden="true " tabindex="-1 "></a>                    <span class="cf ">if</span> (<span class="bu ">len</span>(results[i][j][k][<span class="dv ">0</span>]) <span class="op ">!=</span> <span class="dv ">0</span>):</span>
<span id="cb3-9 "><a href="#cb3-9 " aria-hidden="true " tabindex="-1 "></a>                        rhs <span class="op ">=</span> <span class="bu ">list</span>(results[i][j][k][<span class="dv ">0</span>])</span>
<span id="cb3-10 "><a href="#cb3-10 " aria-hidden="true " tabindex="-1 "></a>                        lhs <span class="op ">=</span> <span class="bu ">list</span>(results[i][j][k][<span class="dv ">1</span>])</span>
<span id="cb3-11 "><a href="#cb3-11 " aria-hidden="true " tabindex="-1 "></a>                        conf <span class="op ">=</span> <span class="bu ">float</span>(results[i][j][k][<span class="dv ">2</span>])</span>
<span id="cb3-12 "><a href="#cb3-12 " aria-hidden="true " tabindex="-1 "></a>                        lift <span class="op ">=</span> <span class="bu ">float</span>(results[i][j][k][<span class="dv ">3</span>])</span>
<span id="cb3-13 "><a href="#cb3-13 " aria-hidden="true " tabindex="-1 "></a>                        keep.append([rhs,lhs,supp,conf,supp<span class="op ">*</span>conf,lift])</span>
<span id="cb3-14 "><a href="#cb3-14 " aria-hidden="true " tabindex="-1 "></a>            <span class="cf ">if</span> (j<span class="op ">==</span><span class="dv ">1</span>):</span>
<span id="cb3-15 "><a href="#cb3-15 " aria-hidden="true " tabindex="-1 "></a>                supp <span class="op ">=</span> results[i][j]</span>
<span id="cb3-16 "><a href="#cb3-16 " aria-hidden="true " tabindex="-1 "></a></span>
<span id="cb3-17 "><a href="#cb3-17 " aria-hidden="true " tabindex="-1 "></a>    <span class="cf ">return</span> pd.DataFrame(keep, columns <span class="op ">=</span>[<span class="st ">"rhs "</span>,<span class="st ">"lhs "</span>,<span class="st
            ">"supp "</span>,<span class="st ">"conf "</span>,<span class="st ">"supp x conf "</span>,<span class="st ">"lift "</span>])</span>
<span id="cb3-18 "><a href="#cb3-18 " aria-hidden="true " tabindex="-1 "></a></span>
<span id="cb3-19 "><a href="#cb3-19 " aria-hidden="true " tabindex="-1 "></a><span class="kw ">def</span> convert_to_network(df):</span>
<span id="cb3-20 "><a href="#cb3-20 " aria-hidden="true " tabindex="-1 "></a>    <span class="bu ">print</span>(df)</span>
<span id="cb3-21 "><a href="#cb3-21 " aria-hidden="true " tabindex="-1 "></a></span>
<span id="cb3-22 "><a href="#cb3-22 " aria-hidden="true " tabindex="-1 "></a>    <span class="co ">#BUILD GRAPH</span></span>
<span id="cb3-23 "><a href="#cb3-23 " aria-hidden="true " tabindex="-1 "></a>    G <span class="op ">=</span> nx.DiGraph()  <span class="co "># DIRECTED</span></span>
<span id="cb3-24 "><a href="#cb3-24 " aria-hidden="true " tabindex="-1 "></a>    <span class="cf ">for</span> row <span class="kw ">in</span> df.iterrows():</span>
<span id="cb3-25 "><a href="#cb3-25 " aria-hidden="true " tabindex="-1 "></a>        <span class="co "># for column in df.columns:</span></span>
<span id="cb3-26 "><a href="#cb3-26 " aria-hidden="true " tabindex="-1 "></a>        lhs<span class="op ">=</span><span class="st ">"_ "</span>.join(row[<span class="dv ">1</span>][<span class="dv ">0</span>])</span>
<span id="cb3-27 "><a href="#cb3-27 " aria-hidden="true " tabindex="-1 "></a>        rhs<span class="op ">=</span><span class="st ">"_ "</span>.join(row[<span class="dv ">1</span>][<span class="dv ">1</span>])</span>
<span id="cb3-28 "><a href="#cb3-28 " aria-hidden="true " tabindex="-1 "></a>        conf<span class="op ">=</span>row[<span class="dv ">1</span>][<span class="dv ">3</span>]<span class="op ">;</span> <span class="co ">#print(conf)</span></span>
<span id="cb3-29 "><a href="#cb3-29 " aria-hidden="true " tabindex="-1 "></a>        <span class="cf ">if</span>(lhs <span class="kw ">not</span> <span class="kw ">in</span> G.nodes): </span>
<span id="cb3-30 "><a href="#cb3-30 " aria-hidden="true " tabindex="-1 "></a>            G.add_node(lhs)</span>
<span id="cb3-31 "><a href="#cb3-31 " aria-hidden="true " tabindex="-1 "></a>        <span class="cf ">if</span>(rhs <span class="kw ">not</span> <span class="kw ">in</span> G.nodes): </span>
<span id="cb3-32 "><a href="#cb3-32 " aria-hidden="true " tabindex="-1 "></a>            G.add_node(rhs)</span>
<span id="cb3-33 "><a href="#cb3-33 " aria-hidden="true " tabindex="-1 "></a></span>
<span id="cb3-34 "><a href="#cb3-34 " aria-hidden="true " tabindex="-1 "></a>        edge<span class="op ">=</span>(lhs,rhs)</span>
<span id="cb3-35 "><a href="#cb3-35 " aria-hidden="true " tabindex="-1 "></a>        <span class="cf ">if</span> edge <span class="kw ">not</span> <span class="kw ">in</span> G.edges:</span>
<span id="cb3-36 "><a href="#cb3-36 " aria-hidden="true " tabindex="-1 "></a>            G.add_edge(lhs, rhs, weight<span class="op ">=</span>conf)</span>
<span id="cb3-37 "><a href="#cb3-37 " aria-hidden="true " tabindex="-1 "></a>    <span class="cf ">return</span> G</span>
<span id="cb3-38 "><a href="#cb3-38 " aria-hidden="true " tabindex="-1 "></a></span>
<span id="cb3-39 "><a href="#cb3-39 " aria-hidden="true " tabindex="-1 "></a><span class="kw ">def</span> plot_network(G):</span>
<span id="cb3-40 "><a href="#cb3-40 " aria-hidden="true " tabindex="-1 "></a>    <span class="co ">#SPECIFIY X-Y POSITIONS FOR PLOTTING</span></span>
<span id="cb3-41 "><a href="#cb3-41 " aria-hidden="true " tabindex="-1 "></a>    pos<span class="op ">=</span>nx.random_layout(G)</span>
<span id="cb3-42 "><a href="#cb3-42 " aria-hidden="true " tabindex="-1 "></a></span>
<span id="cb3-43 "><a href="#cb3-43 " aria-hidden="true " tabindex="-1 "></a>    <span class="co ">#GENERATE PLOT</span></span>
<span id="cb3-44 "><a href="#cb3-44 " aria-hidden="true " tabindex="-1 "></a>    fig, ax <span class="op ">=</span> plt.subplots()</span>
<span id="cb3-45 "><a href="#cb3-45 " aria-hidden="true " tabindex="-1 "></a>    fig.set_size_inches(<span class="dv ">15</span>, <span class="dv ">15</span>)</span>
<span id="cb3-46 "><a href="#cb3-46 " aria-hidden="true " tabindex="-1 "></a></span>
<span id="cb3-47 "><a href="#cb3-47 " aria-hidden="true " tabindex="-1 "></a>    <span class="co ">#assign colors based on attributes</span></span>
<span id="cb3-48 "><a href="#cb3-48 " aria-hidden="true " tabindex="-1 "></a>    weights_e   <span class="op ">=</span> [G[u][v][<span class="st ">'weight'</span>] <span class="cf ">for</span> u,v <span class="kw ">in</span> G.edges()]</span>
<span id="cb3-49 "><a href="#cb3-49 " aria-hidden="true " tabindex="-1 "></a></span>
<span id="cb3-50 "><a href="#cb3-50 " aria-hidden="true " tabindex="-1 "></a>    <span class="co ">#SAMPLE CMAP FOR COLORS </span></span>
<span id="cb3-51 "><a href="#cb3-51 " aria-hidden="true " tabindex="-1 "></a>    cmap<span class="op ">=</span>plt.cm.get_cmap(<span class="st ">'Blues'</span>)</span>
<span id="cb3-52 "><a href="#cb3-52 " aria-hidden="true " tabindex="-1 "></a>    colors_e    <span class="op ">=</span> [cmap(G[u][v][<span class="st ">'weight'</span>]<span class="op ">*</span><span class="dv ">10</span>) <span class="cf
            ">for</span> u,v <span class="kw ">in</span> G.edges()]</span>
<span id="cb3-53 "><a href="#cb3-53 " aria-hidden="true " tabindex="-1 "></a></span>
<span id="cb3-54 "><a href="#cb3-54 " aria-hidden="true " tabindex="-1 "></a>    <span class="co ">#PLOT</span></span>
<span id="cb3-55 "><a href="#cb3-55 " aria-hidden="true " tabindex="-1 "></a>    nx.draw(</span>
<span id="cb3-56 "><a href="#cb3-56 " aria-hidden="true " tabindex="-1 "></a>    G,</span>
<span id="cb3-57 "><a href="#cb3-57 " aria-hidden="true " tabindex="-1 "></a>    edgecolors<span class="op ">=</span><span class="st ">"black "</span>,</span>
<span id="cb3-58 "><a href="#cb3-58 " aria-hidden="true " tabindex="-1 "></a>    edge_color<span class="op ">=</span>colors_e,</span>
<span id="cb3-59 "><a href="#cb3-59 " aria-hidden="true " tabindex="-1 "></a>    node_size<span class="op ">=</span><span class="dv ">2000</span>,</span>
<span id="cb3-60 "><a href="#cb3-60 " aria-hidden="true " tabindex="-1 "></a>    linewidths<span class="op ">=</span><span class="dv ">2</span>,</span>
<span id="cb3-61 "><a href="#cb3-61 " aria-hidden="true " tabindex="-1 "></a>    font_size<span class="op ">=</span><span class="dv ">8</span>,</span>
<span id="cb3-62 "><a href="#cb3-62 " aria-hidden="true " tabindex="-1 "></a>    font_color<span class="op ">=</span><span class="st ">"white "</span>,</span>
<span id="cb3-63 "><a href="#cb3-63 " aria-hidden="true " tabindex="-1 "></a>    font_weight<span class="op ">=</span><span class="st ">"bold "</span>,</span>
<span id="cb3-64 "><a href="#cb3-64 " aria-hidden="true " tabindex="-1 "></a>    width<span class="op ">=</span>weights_e,</span>
<span id="cb3-65 "><a href="#cb3-65 " aria-hidden="true " tabindex="-1 "></a>    with_labels<span class="op ">=</span><span class="va ">True</span>,</span>
<span id="cb3-66 "><a href="#cb3-66 " aria-hidden="true " tabindex="-1 "></a>    pos<span class="op ">=</span>pos,</span>
<span id="cb3-67 "><a href="#cb3-67 " aria-hidden="true " tabindex="-1 "></a>    ax<span class="op ">=</span>ax</span>
<span id="cb3-68 "><a href="#cb3-68 " aria-hidden="true " tabindex="-1 "></a>    )</span>
<span id="cb3-69 "><a href="#cb3-69 " aria-hidden="true " tabindex="-1 "></a>    ax.<span class="bu ">set</span>(title<span class="op ">=</span><span class="st ">'Account Description of Users Sending rumors'</span>)</span>
<span id="cb3-70 "><a href="#cb3-70 " aria-hidden="true " tabindex="-1 "></a>    plt.show()</span></code><button title="Copy to Clipboard " class="code-copy-button "><i class="bi "></i></button></pre></div>
                    </details>
                </div>
            </section>
            <section id="model-building " class="level1 " data-number="3 ">
                <h1 data-number="3 "><span class="header-section-number ">3</span> Model Building</h1>
                
                <div class="cell " data-execution_count="23 ">
                  
                    <details>
                        
                        <summary>Code</summary>
                        <div class="sourceCode cell-code " id="cb4 "><pre class="sourceCode python code-with-copy "><code class="sourceCode python "><span id="cb4-1 "><a href="#cb4-1 " aria-hidden="true " tabindex="-1 "></a>results <span class="op
            ">=</span> <span class="bu ">list</span>(apriori(df.text, min_support<span class="op ">=</span><span class="fl ">0.01</span>, min_confidence<span class="op ">=</span><span class="fl ">0.1</span>, min_length<span class="op ">=</span><span class="dv
            ">3</span>, max_length<span class="op ">=</span><span class="dv ">2</span>))</span>
<span id="cb4-2 "><a href="#cb4-2 " aria-hidden="true " tabindex="-1 "></a>pd_results <span class="op ">=</span> reformat_results(results)</span>
<span id="cb4-3 "><a href="#cb4-3 " aria-hidden="true " tabindex="-1 "></a>G <span class="op ">=</span> convert_to_network(pd_results)</span></code><button title="Copy to Clipboard " class="code-copy-button "><i class="bi "></i></button></pre></div>
                    </details>
                    <div class="cell-output cell-output-stdout ">
                        <pre><code>            rhs          lhs      supp      conf  supp x conf       lift
0        [call]     [sexist]  0.039691  0.900000     0.035722   5.101875
1      [sexist]       [call]  0.039691  0.225000     0.008931   5.101875
2        [call]      [woman]  0.018743  0.425000     0.007966   2.942557
3       [woman]       [call]  0.018743  0.129771     0.002432   2.942557
4      [driver]      [woman]  0.011025  0.833333     0.009188   5.769720
5      [female]     [sexist]  0.028666  0.742857     0.021295   4.211071
6      [sexist]     [female]  0.028666  0.162500     0.004658   4.211071
7    [football]     [sexist]  0.013230  0.800000     0.010584   4.535000
8         [get]     [sexist]  0.011025  0.188679     0.002080   1.069575
9        [girl]     [sexist]  0.026461  0.363636     0.009622   2.061364
10     [sexist]       [girl]  0.026461  0.150000     0.003969   2.061364
11         [ie]      [nikki]  0.011025  0.833333     0.009188  62.986111
12      [nikki]         [ie]  0.011025  0.833333     0.009188  62.986111
13         [im]     [sexist]  0.015436  0.823529     0.012712   4.668382
14       [like]     [sexist]  0.015436  0.280000     0.004322   1.587250
15       [like]      [woman]  0.013230  0.240000     0.003175   1.661679
16        [men]     [sexist]  0.018743  0.314815     0.005901   1.784606
17     [sexist]        [men]  0.018743  0.106250     0.001991   1.784606
18        [men]      [woman]  0.028666  0.481481     0.013802   3.333616
19      [woman]        [men]  0.028666  0.198473     0.005689   3.333616
20  [notsexist]      [woman]  0.020948  0.500000     0.010474   3.461832
21      [woman]  [notsexist]  0.020948  0.145038     0.003038   3.461832
22        [one]      [woman]  0.012128  0.297297     0.003606   2.058387
23     [really]     [sexist]  0.015436  0.583333     0.009004   3.306771
24     [sexist]      [woman]  0.078280  0.443750     0.034737   3.072376
25      [woman]     [sexist]  0.078280  0.541985     0.042427   3.072376</code></pre>
                    </div>
                </div>
            </section>
            <section id="data-visualization " class="level1 " data-number="4 ">
                <h1 data-number="4 "><span class="header-section-number ">4</span> Data Visualization</h1>
                <div class="cell " data-execution_count="58 ">
                    <details>
                        <summary>Code</summary>
                        <div class="sourceCode cell-code " id="cb6 "><pre class="sourceCode python code-with-copy "><code class="sourceCode python "><span id="cb6-1 "><a href="#cb6-1 " aria-hidden="true " tabindex="-1
            "></a>plot_network(G)</span></code><button title="Copy to Clipboard " class="code-copy-button "><i class="bi "></i></button></pre></div>
                    </details>
                    <div class="cell-output cell-output-display ">
                        <p><img src="arm_files/figure-html/cell-6-output-1.png " class="img-fluid "></p>
                    </div>
                </div>
            </section>
            <section id="results " class="level1 " data-number="5 ">
                <h1 data-number="5 "><span class="header-section-number ">5</span> Results</h1>
                <p>Setting a minimum of support and confidence, we can get a straightforward combination of frequent words. Above all, the word “sexist” can’t be ignored, since it represents some prejudice over the gender-related issues. Moreover, if we
                    take a closer look, “woman” and “sexist” are highly correlated.</p>
                <p>Sexism in a society is most commonly applied against women and girls. And this leads to a broader picture. If woman and sexist are both observed on Tweets, we should tag this tweets as hate speech or not? What if the tweets that contain
                    the two words just want to convey that women should be protected. To some extent, I think a more complex architecture of model is needed, let’s say, Bert, to capture more detailed patterns of the text data.</p>
                <p>Moreover, the name Nikki is repeatedly mentioned in many texts and related to the topic of sexism. I google the name, and surprisingly notice that Rap artist Nicki Minaj has spoken out against sexism in hip-hop. Thereafter, Nikki is a
                    important feature to classify sexism speech.</p>
            </section>
            <section id="conclusion " class="level1 " data-number="6 ">
                <h1 data-number="6 "><span class="header-section-number ">6</span> Conclusion</h1>
                <p>Association rule model called Apriori algorithm has been applied to detect text patterns. The limitation of the results is that because of the imblance between the sexism and racism text in the hate speech, many patterns only relate to
                    the sexism. Problem of how to detect the racism is still remained if only use association rule.</p>
            </section>
            <section id="reference " class="level1 " data-number="7 ">
                <h1 data-number="7 "><span class="header-section-number ">7</span> Reference</h1>
                <p>[1] Dobilas, S. (2022, May 9). Apriori algorithm for Association Rule learning - how to find clear links between transactions. Medium. Retrieved December 8, 2022, from https://towardsdatascience.com/apriori-algorithm-for-association-rule-learning-how-to-find-clear-links-between-transactions-bf7ebc22cf0a</p>
            </section>

        </main>
        <!-- /main column -->
        <script id="quarto-html-after-body " type="application/javascript ">
            window.document.addEventListener("DOMContentLoaded ", function(event) {
                const toggleBodyColorMode = (bsSheetEl) => {
                    const mode = bsSheetEl.getAttribute("data-mode ");
                    const bodyEl = window.document.querySelector("body ");
                    if (mode === "dark ") {
                        bodyEl.classList.add("quarto-dark ");
                        bodyEl.classList.remove("quarto-light ");
                    } else {
                        bodyEl.classList.add("quarto-light ");
                        bodyEl.classList.remove("quarto-dark ");
                    }
                }
                const toggleBodyColorPrimary = () => {
                    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap ");
                    if (bsSheetEl) {
                        toggleBodyColorMode(bsSheetEl);
                    }
                }
                toggleBodyColorPrimary();
                const icon = " ";
                const anchorJS = new window.AnchorJS();
                anchorJS.options = {
                    placement: 'right',
                    icon: icon
                };
                anchorJS.add('.anchored');
                const clipboard = new window.ClipboardJS('.code-copy-button', {
                    target: function(trigger) {
                        return trigger.previousElementSibling;
                    }
                });
                clipboard.on('success', function(e) {
                    // button target
                    const button = e.trigger;
                    // don't keep focus
                    button.blur();
                    // flash "checked "
                    button.classList.add('code-copy-button-checked');
                    var currentTitle = button.getAttribute("title ");
                    button.setAttribute("title ", "Copied! ");
                    let tooltip;
                    if (window.bootstrap) {
                        button.setAttribute("data-bs-toggle ", "tooltip ");
                        button.setAttribute("data-bs-placement ", "left ");
                        button.setAttribute("data-bs-title ", "Copied! ");
                        tooltip = new bootstrap.Tooltip(button, {
                            trigger: "manual ",
                            customClass: "code-copy-button-tooltip ",
                            offset: [0, -8]
                        });
                        tooltip.show();
                    }
                    setTimeout(function() {
                        if (tooltip) {
                            tooltip.hide();
                            button.removeAttribute("data-bs-title ");
                            button.removeAttribute("data-bs-toggle ");
                            button.removeAttribute("data-bs-placement ");
                        }
                        button.setAttribute("title ", currentTitle);
                        button.classList.remove('code-copy-button-checked');
                    }, 1000);
                    // clear code selection
                    e.clearSelection();
                });
                const viewSource = window.document.getElementById('quarto-view-source') ||
                    window.document.getElementById('quarto-code-tools-source');
                if (viewSource) {
                    const sourceUrl = viewSource.getAttribute("data-quarto-source-url ");
                    viewSource.addEventListener("click ", function(e) {
                        if (sourceUrl) {
                            // rstudio viewer pane
                            if (/\bcapabilities=\b/.test(window.location)) {
                                window.open(sourceUrl);
                            } else {
                                window.location.href = sourceUrl;
                            }
                        } else {
                            const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
                            modal.show();
                        }
                        return false;
                    });
                }

                function toggleCodeHandler(show) {
                    return function(e) {
                        const detailsSrc = window.document.querySelectorAll(".cell> details > .sourceCode"); for (let i = 0; i
            < detailsSrc.length; i++) { const details=d etailsSrc[i].parentElement; if (show) { details.open=t rue; } else { details.removeAttribute( "open"); } } const cellCodeDivs=w indow.document.querySelectorAll( ".cell > .sourceCode"); const fromCls=s how ?
                "hidden" : "unhidden"; const toCls=s how ? "unhidden" : "hidden"; for (let i=0 ; i < cellCodeDivs.length; i++) { const codeDiv=c ellCodeDivs[i]; if (codeDiv.classList.contains(fromCls)) { codeDiv.classList.remove(fromCls); codeDiv.classList.add(toCls);
                } } return false; } } const hideAllCode=w indow.document.getElementById( "quarto-hide-all-code"); if (hideAllCode) { hideAllCode.addEventListener( "click", toggleCodeHandler(false)); } const showAllCode=w indow.document.getElementById(
                "quarto-show-all-code"); if (showAllCode) { showAllCode.addEventListener( "click", toggleCodeHandler(true)); } function tippyHover(el, contentFn) { const config={ allowHTML: true, content: contentFn, maxWidth: 500, delay: 100, arrow: false, appendTo: function(el)
                { return el.parentElement; }, interactive: true, interactiveBorder: 10, theme: 'quarto', placement: 'bottom-start' }; window.tippy(el, config); } const noterefs=w indow.document.querySelectorAll( 'a[role="doc-noteref"]'); for (var i=0 ; i
                < noterefs.length; i++) { const ref=n oterefs[i]; tippyHover(ref, function() { // use id or data attribute instead here let href=r ef.getAttribute( 'data-footnote-href') || ref.getAttribute( 'href'); try { href=n ew URL(href).hash; } catch
                {} const id=h ref.replace(/^#\/?/, ""); const note=w indow.document.getElementById(id); return note.innerHTML; }); } const findCites=( el)=> { const parentEl = el.parentElement; if (parentEl) { const cites = parentEl.dataset.cites; if (cites) { return { el, cites: cites.split(' ') }; } else { return findCites(el.parentElement) } } else { return undefined; } }; var bibliorefs =
                window.document.querySelectorAll('a[role="doc-biblioref"]'); for (var i = 0; i
                < bibliorefs.length; i++) { const ref=b ibliorefs[i]; const citeInfo=f indCites(ref); if (citeInfo) { tippyHover(citeInfo.el, function() { var popup=w indow.document.createElement( 'div'); citeInfo.cites.forEach(function(cite) { var citeDiv=w indow.document.createElement(
                    'div'); citeDiv.classList.add( 'hanging-indent'); citeDiv.classList.add( 'csl-entry'); var biblioDiv=w indow.document.getElementById( 'ref-' + cite); if (biblioDiv) { citeDiv.innerHTML=b iblioDiv.innerHTML; } popup.appendChild(citeDiv); });
                    return popup.innerHTML; }); } } }); </script>
    </div>
    <footer id="footer">
        <div style="background-color:#313030; float: bottom;">
            <div style="height:50px;margin-top: 0px; vertical-align: middle;">
                <p style="color:	#8d8d8d; "> © 2022 Haoxuan Weng 501 Project, powered by GU domain </p>
            </div>
        </div>
    </footer>
    <!-- /content -->



</body>

</html>